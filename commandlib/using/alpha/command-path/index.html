<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Easily invoke commands from one directory (CommandPath) - HitchDev</title>
    <meta name="generator" content="Hugo 0.50" />

    
    <meta name="description" content="The code that specifies | builds | runs | tests | documents your code.">
    
    <link rel="canonical" href="https://hitchdev.com/commandlib/using/alpha/command-path/">
    
    <meta name="author" content="Colm O&#39;Connor">
    

    <meta property="og:url" content="https://hitchdev.com/commandlib/using/alpha/command-path/">
    <meta property="og:title" content="HitchDev">
    <meta property="og:image" content="https://hitchdev.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="HitchDev">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://hitchdev.com/fonts/icon.eot');
        src: url('https://hitchdev.com/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://hitchdev.com/fonts/icon.woff')
               format('woff'),
             url('https://hitchdev.com/fonts/icon.ttf')
               format('truetype'),
             url('https://hitchdev.com/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://hitchdev.com/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-green palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
        
        <a style="display:inline;" href="https://hitchdev.com/">hitchdev</a>
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/commandlib'>commandlib</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/commandlib/using'>using</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/commandlib/using/alpha'>alpha</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/commandlib/using/alpha/command-path'>command-path</a>
            
            
        
          
            
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/hitchdev" title="@hitchdev on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://hitchdev.com/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://hitchdev.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>HitchDev </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="CommandLib" href="https://hitchdev.com/commandlib/">
	
	CommandLib
</a>



  
</li>



<li>
  
    



<a  title="Faketime" href="https://hitchdev.com/faketime/">
	
	Faketime
</a>



  
</li>



<li>
  
    



<a  title="HitchRunPy" href="https://hitchdev.com/hitchrunpy/">
	
	HitchRunPy
</a>



  
</li>



<li>
  
    



<a  title="HitchStory" href="https://hitchdev.com/hitchstory/">
	
	HitchStory
</a>



  
</li>



<li>
  
    



<a  title="SeleniumDirector" href="https://hitchdev.com/seleniumdirector/">
	
	SeleniumDirector
</a>



  
</li>



<li>
  
    



<a  title="StrictYAML" href="https://hitchdev.com/strictyaml/">
	
	StrictYAML
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/hitchdev" target="_blank" title="@hitchdev on GitHub">
              @hitchdev on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Easily invoke commands from one directory (CommandPath) </h1>

			<p>A CommandPath is an object that you can create to represent
a directory with executables in it. You can then use that object
to get command objects which you can then run.</p>

<p>This feature was created to be able to create a &ldquo;postgres&rdquo; or &ldquo;node&rdquo;
or &ldquo;virtualenv&rdquo; CommandPath object referencing their bin directory.
Commands in those bin directories (e.g. postgres / psql) could be run
and be able to directly call <em>other</em> commands in that directory without
referencing the absolute path.</p>

<p>Command objects that are created from CommandPath objects
will automatically be run with that directory added to the beginning
of their PATH. This means that they can run each other directly
without specifying the directory.</p>

<p>bin_directory/ls:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="nb">echo</span> hello <span class="nv">$1</span> &gt; output</code></pre></div>
<p>bin_directory/command1:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span>ls <span class="nv">$1</span></code></pre></div>
<p>bin_directory/command2:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="nb">echo</span> hello <span class="nv">$1</span> &gt; output</code></pre></div>
<p>bin_directory/command_calling_command_in_path:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span>command1 tom</code></pre></div>
<p>bin_directory/command.with.dots:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="cp">#!/bin/bash
</span><span class="cp"></span><span class="nb">echo</span> hello dots &gt; output</code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">commandlib</span> <span class="kn">import</span> <span class="n">CommandPath</span>

<span class="n">command_path</span> <span class="o">=</span> <span class="n">CommandPath</span><span class="p">(</span><span class="s2">&#34;./bin_directory&#34;</span><span class="p">)</span></code></pre></div>
<p>Run command from CommandPath:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">command_path</span><span class="o">.</span><span class="n">command1</span><span class="p">(</span><span class="s2">&#34;harry&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></code></pre></div>
<p>File &lsquo;output&rsquo; will contain:</p>

<pre><code>hello harry
</code></pre>

<p>Command can call other command in CommandPath without specifying its path:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">command_path</span><span class="o">.</span><span class="n">command_calling_command_in_path</span><span class="p">(</span><span class="s2">&#34;tom&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></code></pre></div>
<p>File &lsquo;output&rsquo; will contain:</p>

<pre><code>hello tom
</code></pre>

<p>Commands with dots in command path are translated into underscores:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">command_path</span><span class="o">.</span><span class="n">command_with_dots</span><span class="p">(</span><span class="s2">&#34;tom&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span></code></pre></div>
<p>File &lsquo;output&rsquo; will contain:</p>

<pre><code>hello dots
</code></pre>

<p>Referencing a non-existent command raises an exception:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">command_path</span><span class="o">.</span><span class="n">non_existent_command</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="n">commandlib</span><span class="o">.</span><span class="n">exceptions</span><span class="o">.</span><span class="n">CommandError</span><span class="p">:</span>
<span class="s1">&#39;non_existent_command&#39;</span> <span class="ow">not</span> <span class="n">found</span> <span class="ow">in</span> <span class="s1">&#39;/path/to/bin_directory&#39;</span></code></pre></div>

			<aside class="copyright" role="note">
				
				&copy; 2020 Copyright (C) 2019 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://hitchdev.com/strictyaml/using/alpha/restrictions/duplicate-keys/" title="Duplicate keys">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Duplicate keys
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://hitchdev.com/commandlib/using/alpha/use-current-python-environment/" title="Easily invoke commands from the current virtualenv (python_bin)">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Easily invoke commands from the current virtualenv (python_bin)
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://hitchdev.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

