<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Why not use Behave, Lettuce or Cucumber (Gherkin)? - HitchDev</title>
    <meta name="generator" content="Hugo 0.31.1" />

    
    <meta name="description" content="The code that specifies | builds | runs | tests | documents your code.">
    
    <link rel="canonical" href="https://hitchdev.com/hitchstory/why-not/gherkin/">
    
    <meta name="author" content="Colm O&#39;Connor">
    

    <meta property="og:url" content="https://hitchdev.com/hitchstory/why-not/gherkin/">
    <meta property="og:title" content="HitchDev">
    <meta property="og:image" content="https://hitchdev.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="HitchDev">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://hitchdev.com/fonts/icon.eot');
        src: url('https://hitchdev.com/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://hitchdev.com/fonts/icon.woff')
               format('woff'),
             url('https://hitchdev.com/fonts/icon.ttf')
               format('truetype'),
             url('https://hitchdev.com/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://hitchdev.com/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-green palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
        
        <a style="display:inline;" href="https://hitchdev.com/">hitchdev</a>
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/hitchstory'>hitchstory</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/hitchstory/why-not'>why-not</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/hitchstory/why-not/gherkin'>gherkin</a>
            
            
        
          
            
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/hitchdev" title="@hitchdev on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://hitchdev.com/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://hitchdev.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>HitchDev </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="CommandLib" href="https://hitchdev.com/commandlib/">
	
	CommandLib
</a>



  
</li>



<li>
  
    



<a  title="HitchRunPy" href="https://hitchdev.com/hitchrunpy/">
	
	HitchRunPy
</a>



  
</li>



<li>
  
    



<a  title="HitchStory" href="https://hitchdev.com/hitchstory/">
	
	HitchStory
</a>



  
</li>



<li>
  
    



<a  title="SeleniumDirector" href="https://hitchdev.com/seleniumdirector/">
	
	SeleniumDirector
</a>



  
</li>



<li>
  
    



<a  title="StrictYAML" href="https://hitchdev.com/strictyaml/">
	
	StrictYAML
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/hitchdev" target="_blank" title="@hitchdev on GitHub">
              @hitchdev on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Why not use Behave, Lettuce or Cucumber (Gherkin)? </h1>

			

<p>HitchStory and Gherkin are both DSLs for writing user stories that can double as
acceptance tests, but they have slightly different philosophies and approach.</p>

<p>Gherkin&rsquo;s philosophy emphasize the following values:</p>

<ul>
<li>The use of English to facilitate customer collaboration.</li>
<li>Showing information that is &ldquo;interesting to the business&rdquo;.</li>
</ul>

<p>Whereas hitchstory&rsquo;s philosophy emphasizes very <em>similar</em> values, with some important differences:</p>

<ul>
<li><p>The use of <a href="../../why/strictyaml">typed YAML</a> to define specs for readability, precision, clarity, terseness and ease of maintenance.</p></li>

<li><p>Specifying all behavior precisely as per the <a href="../../approach/screenplay-principle">screenplay principle</a>.</p></li>

<li><p>Templated documentation generation from specs and/or code artefacts to communicate information that is interesting to stakeholders.</p></li>
</ul>

<h2 id="what-gherkin-got-right">What Gherkin got right</h2>

<p>Cucumber and their related tools became popular for good reasons, even though they made
many mistakes. They also got a lot of non-obvious stuff right:</p>

<ul>
<li><p>Emphasis on readability of the specs - something that unit tests typically fail at.</p></li>

<li><p>The idea that specifications should double as tests.</p></li>

<li><p>The deliberate use of a simpler non-turing complete language for specifications.</p></li>

<li><p>The separation of concerns between specification and story execution.</p></li>

<li><p>Built in parameterization.</p></li>

<li><p>The idea that the notion of specifications, tests and documentation are all intrinsically linked.</p></li>
</ul>

<h2 id="example-gherkin-code-vs-hitchstory">Example gherkin code vs hitchstory</h2>

<p>From <a href="http://aslakhellesoy.com/post/11055981222/the-training-wheels-came-off">the training wheels come off</a>,
Aslak Helles√∏y described how Cucumber was used to write tests (in his view, poorly):</p>
<div class="highlight"><pre class="chroma"><code class="language-gherkin" data-lang="gherkin">Scenario: Successful login
  Given a user &#34;Aslak&#34; with password &#34;xyz&#34;
  And I am on the login page
  And I fill in &#34;User name&#34; with &#34;Aslak&#34;
  And I fill in &#34;Password&#34; with &#34;xyz&#34;
  When I press &#34;Log in&#34;
  Then I should see &#34;Welcome, Aslak&#34;</code></pre></div>
<p>And how he thinks it should be used:</p>
<div class="highlight"><pre class="chroma"><code class="language-gherkin" data-lang="gherkin">Scenario: User is greeted upon login
  Given the user &#34;Aslak&#34; has an account
  When he logs in
  Then he should see &#34;Welcome, Aslak&#34;</code></pre></div>
<p>Equivalent scenario in hitchstory:</p>
<div class="highlight"><pre class="chroma"><code class="language-yaml" data-lang="yaml">Aslak<span class="w"> </span>sees<span class="w"> </span>welcome<span class="w"> </span>message<span class="w"> </span>on<span class="w"> </span>login<span class="p">:</span><span class="w">
</span><span class="w">  </span>steps<span class="p">:</span><span class="w">
</span><span class="w">  </span>-<span class="w"> </span>visit<span class="p">:</span><span class="w"> </span>/login<span class="w">
</span><span class="w">  </span>-<span class="w"> </span>fill<span class="w"> </span>form<span class="p">:</span><span class="w">
</span><span class="w">      </span>username<span class="p">:</span><span class="w"> </span>Aslak<span class="w">
</span><span class="w">      </span>password<span class="p">:</span><span class="w"> </span>xyz<span class="w">
</span><span class="w">  </span>-<span class="w"> </span>click<span class="p">:</span><span class="w"> </span>log<span class="w"> </span>in<span class="w"> </span>button<span class="w">
</span><span class="w">  </span>-<span class="w"> </span>should<span class="w"> </span>contain<span class="p">:</span><span class="w">
</span><span class="w">      </span>item<span class="p">:</span><span class="w"> </span>welcome<span class="w"> </span>banner<span class="w">
</span><span class="w">      </span>message<span class="p">:</span><span class="w"> </span>Welcome<span class="p">,</span><span class="w"> </span>Aslak</code></pre></div>
<h1 id="what-cucumber-gherkin-got-wrong">What Cucumber/Gherkin got wrong</h1>

<h2 id="being-an-english-like-language">Being an English-like language</h2>

<p>English is vague. English is verbose. English is messy. English is imprecise. These are ideal qualities for some purposes but they are not ideal for writing specifications.</p>

<p>Like actual code, to be effective, specifications are exact, precise and DRY. Even non-executable specifications
benefit from these qualities.</p>

<p>The imprecision of English is drawn out in Gherkin specifications partly due to its lack of inheritance. This
encourages vague</p>

<ul>
<li>they usually lack precision and critical details and end up serving as a sort of high level description of what the program it&rsquo;s describing does.</li>
</ul>

<h2 id="parser-hell">Parser hell</h2>

<p>Some people, when confronted with a problem, think &ldquo;I know, I&rsquo;ll use regular expressions.&rdquo; Now they have two problems. - Jamie Zawinksi</p>

<p>Because of the Englishy nature of the language, parsing is also difficult. Gherkin requires very</p>

<p>There are a multiplicity of examples around the web where it went wrong causing many headaches for users of Cucumber
and often leading to hours of unnecessary debugging and <a href="http://coryschires.com/ten-tips-for-writing-better-cucumber-steps/">workarounds</a>.</p>

<p>One of the facets of the syntactic ambiguity is that some parsers require you to write regular expressions to parse segments
of the Gherkin.</p>

<h2 id="given-when-then-and-are-bdd-training-wheels-that-don-t-come-off">Given/When/Then/And are BDD training wheels that don&rsquo;t come off</h2>

<p>BDD emphasizes the notion of using Given, When and Then as a way of structuring example based test cases.</p>

<p>And, to be fair, almost every test case <em>should</em> follow this pattern. However, these keywords do not hold
any meaning for the parser and are ignored.</p>

<p>For this reason, hitchstory advocates the Given/When/Then <em>pattern</em> but, apart from &lsquo;given&rsquo; does not use these
keywords. &ldquo;Given&rdquo; is a user defined mapping of arbitrary YAML that can be used to configure how set_up behaves,
while the meat of the stories is in the steps.</p>

<p>given:
    something: something else
  steps:
  - step 1 # when
  - step 2 # then
  - step 3 # and
  - step 4 # but</p>

<p>Why does this matter? It results in executable specifications which are naturally terser and which have more
room for your business logic.</p>

<h2 id="verbosity">Verbosity</h2>

<h2 id="weakly-typed">Weakly typed</h2>

<h2 id="no-inheritance">No inheritance</h2>

<p><a href="https://stackoverflow.com/questions/41872376/can-a-cucumber-feature-file-inherit-from-a-parent-feature-file">https://stackoverflow.com/questions/41872376/can-a-cucumber-feature-file-inherit-from-a-parent-feature-file</a></p>

<p>&ldquo;The short answer, no. Feature files can&rsquo;t inherit from another feature file.&rdquo;</p>

<p>Inheritance is, and always has been about keeping code DRY. It is a thorny tool because, while it can reduce
repetition it can sacrifice readability. For this reason, Gherkin left it out.</p>

<p>From the Stack overflow question:</p>

<p>&ldquo;A common background is to login in a system. Login is important but it can often be hidden in the steps.&rdquo;</p>

<p>It <em>can</em> be.</p>

<p>It <em>shouldn&rsquo;t</em> be.</p>

<p>The steps that lead to login are part of the specification of the system, so <em>why should it be hidden</em>?</p>

<p>This conflict between the desire to keep steps DRY and not hide meaningful details in steps
puts users of Cucumber in a horrible and unnecessary position.</p>

<p>In the article <a href="https://makandracards.com/makandra/18905-how-to-not-repeat-yourself-in-cucumber-scenarios">how not to repeat yourself in cucumber scenarios</a>
I see somebody valiantly <em>struggling</em> to find a solution to &ldquo;how can we achieve the same thing as
inheritance?&rdquo; and finding 4 mediocre equivalents.</p>

<h2 id="the-idea-that-executable-specifications-should-necessarily-be-non-technical">The idea that executable specifications should necessarily be non technical</h2>

<p>Talking about music is like dancing about architecture &ndash; Marvin Mull</p>

<p>Most software packages under test don&rsquo;t actually interact with humans they interacts with other software.</p>

<p>This interaction can be via code - in which case the specification ought to be defined
with snippets of code.</p>

<p>The interaction might instead be with a REST API - in which case, in order to be able
to define the interaction, you must understand and define the semantics of REST APIs
and be able to write them out if you are defining a spec.</p>

<p>The specification should not attempt to conceal or dumb down these details.</p>

<p>To be fair, this isn&rsquo;t a problem with the syntax of Gherkin or design of Cucumber
- it is mostly a cultural affectation.</p>

<h2 id="programmers-need-to-want-to-use-the-executable-specification-tool-even-if-the-business-isn-t-interested">Programmers need to want to use the executable specification tool even if the business isn&rsquo;t interested</h2>

<p>Due to all of the above problems, Gherkin does not have a wide adoption among developers.</p>

<p>It&rsquo;s not like deliberately simplified languages are not popular with developers for
other forms of configuration.</p>

<p>If programmers don&rsquo;t like using a tool or technology that interfaces to their code,
forget about getting the business to use it.</p>


			<aside class="copyright" role="note">
				
				&copy; 2019 Copyright (C) 2018 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://hitchdev.com/strictyaml/why-not/" title="Why not X?">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              Why not X?
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://hitchdev.com/seleniumdirector/why-not/capybara-py-or-splinter/" title="Why not use Capybara-Py or Splinter?">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Why not use Capybara-Py or Splinter?
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://hitchdev.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

