<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title> - HitchDev</title>
    <meta name="generator" content="Hugo 0.31.1" />

    
    <meta name="description" content="The code that specifies | builds | runs | tests | documents your code.">
    
    <link rel="canonical" href="https://hitchdev.com/strictyaml/changelog/">
    
    <meta name="author" content="Colm O&#39;Connor">
    

    <meta property="og:url" content="https://hitchdev.com/strictyaml/changelog/">
    <meta property="og:title" content="HitchDev">
    <meta property="og:image" content="https://hitchdev.com/images/logo.png">
    <meta name="apple-mobile-web-app-title" content="HitchDev">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="https://hitchdev.com/images/favicon.ico">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://hitchdev.com/fonts/icon.eot');
        src: url('https://hitchdev.com/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://hitchdev.com/fonts/icon.woff')
               format('woff'),
             url('https://hitchdev.com/fonts/icon.ttf')
               format('truetype'),
             url('https://hitchdev.com/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/application.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://hitchdev.com/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu&#43;Mono">
    <style>
      body, input {
        font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <script src="https://hitchdev.com/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-green palette-accent-teal">




<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
        
        <a style="display:inline;" href="https://hitchdev.com/">hitchdev</a>
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/strictyaml'>strictyaml</a>
            
            
        
          
            
            / <a style="display:inline;" href='https://hitchdev.com/strictyaml/changelog'>changelog</a>
            
            
        
          
            
        
      </div>
    </div>

    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/hitchdev" title="@hitchdev on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>

</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://hitchdev.com/" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://hitchdev.com/images/logo.png">
        </div>
      
      <div class="name">
        <strong>HitchDev </strong>
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="CommandLib" href="https://hitchdev.com/commandlib/">
	
	CommandLib
</a>



  
</li>



<li>
  
    



<a  title="HitchRunPy" href="https://hitchdev.com/hitchrunpy/">
	
	HitchRunPy
</a>



  
</li>



<li>
  
    



<a  title="HitchStory" href="https://hitchdev.com/hitchstory/">
	
	HitchStory
</a>



  
</li>



<li>
  
    



<a  title="SeleniumDirector" href="https://hitchdev.com/seleniumdirector/">
	
	SeleniumDirector
</a>



  
</li>



<li>
  
    



<a  title="StrictYAML" href="https://hitchdev.com/strictyaml/">
	
	StrictYAML
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          

          
          <li>
            <a href="https://github.com/hitchdev" target="_blank" title="@hitchdev on GitHub">
              @hitchdev on GitHub
            </a>
          </li>
          

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1> </h1>

			

<h1 id="changelog">Changelog</h1>

<h3 id="latest">Latest</h3>

<p>No relevant code changes.</p>

<h3 id="1-0-0">1.0.0</h3>

<p>No relevant code changes.</p>

<h3 id="0-15-4">0.15.4</h3>

<ul>
<li>BUGFIX : If revalidating a subschema with an Or validator and then changing the contents of the parsed data, a cryptic error was raised.</li>
</ul>

<h3 id="0-15-3">0.15.3</h3>

<ul>
<li>BUGFIX : Fix for #46 - prevent Enum parsed values from becoming YAML objects.</li>
</ul>

<h3 id="0-15-2">0.15.2</h3>

<ul>
<li>BUGFIX : Modifying YAML via <strong>getitem</strong> where the YAML was validated using an OR operator failed - or validators didn&rsquo;t have a key_validator.</li>
</ul>

<h3 id="0-15-1">0.15.1</h3>

<ul>
<li>BUGFIX : Make optional values parsed using Optional appear at the <em>end</em> of the ordered dict.</li>
<li>BUGFIX : Prevent YAML objects from appearing in .data.</li>
<li>BUGFIX : Fix for bug caused by revalidation with Optional default values.</li>
</ul>

<h3 id="0-15-0">0.15.0</h3>

<ul>
<li>FEATURE : Raise exception when invalid default data is used is used in Optionals.</li>
<li>FEATURE : Do not output defaults from Optional() to YAML and ignore parsed defaults where the parsed data is equal to the default specified in Optional().</li>
<li>BUGFIX : Include README.md.</li>
</ul>

<h3 id="0-14-0">0.14.0</h3>

<ul>
<li>BUGFIX : Made comma separated serializer serialize correctly.</li>
<li>BUGFIX : Fixed the way serialization of empty lists, dicts, None and datetimes is handled.</li>
<li>BUGFIX : Float - fixed transformation in to YAML.</li>
<li>BUGFIX : Proper serialization for floats.</li>
<li>BUGFIX : Proper serialization for regexes.</li>
<li>BUGFIX : Comma separated serialization.</li>
<li>BUGFIX : Enum - fixed transformation in to YAML.</li>
<li>BUGFIX : Stricter validation on the serialization of dicts.</li>
<li>BUGFIX : Stricter validation on the serialization of sequences.</li>
<li>BUGFIX : Streamlined and fixed the way that serialization of data to YAML is performed so that both complex changes to YAML documents can be made and complex YAML documents can be assembled from scratch.</li>
<li>BUGFIX : Stop dumping empty dicts / lists.</li>
<li>BUGFIX : Fixed content encoding on README.</li>
</ul>

<h3 id="0-13-0">0.13.0</h3>

<ul>
<li>FEATURE : Allow flow style to be parsed with a dirty_load method.</li>
</ul>

<h3 id="0-12-0">0.12.0</h3>

<ul>
<li>FEATURE : Implement mapping abstract base class as per #39.</li>
</ul>

<h3 id="0-11-10">0.11.10</h3>

<ul>
<li>BUGFIX : #15 - fix for regression caused by the release of ruamel.yaml 0.15.48.</li>
<li>FEATURE : Handle building documents a bit more sensibly - build the document from strings, floats, dicts, lists, etc. only.</li>
</ul>

<h3 id="0-11-8">0.11.8</h3>

<ul>
<li>FEATURE : Include LICENSE.txt in package - #34 - hat tip @mcs07.</li>
<li>BUGFIX : Fix for #32 hat tip @NoahTheDuke - render given sections on variations in documentation.</li>
</ul>

<h3 id="0-11-7">0.11.7</h3>

<ul>
<li>FEATURE : Replaced read in README.rst with read in README.md in setup.py.</li>
</ul>

<h3 id="0-11-6">0.11.6</h3>

<ul>
<li>FEATURE : Replaced link in setup.py to new website.</li>
</ul>

<h3 id="0-11-5">0.11.5</h3>

<ul>
<li>MINOR BUGFIX : #31 hat tip @karantan - validator was being set incorrectly on YAML objects after parse.</li>
</ul>

<h3 id="0-11-4">0.11.4</h3>

<ul>
<li>BUGFIX : Fix bug where changing items in the YAML after revalidation failed.</li>
</ul>

<h3 id="0-11-3">0.11.3</h3>

<ul>
<li>PATCH BUGFIX : Ensure that revalidation keeps the validator.</li>
</ul>

<h3 id="0-11-2">0.11.2</h3>

<ul>
<li>BUGFIX : When using YAML objects as keys on other YAML objects, it should just use the value.</li>
</ul>

<h3 id="0-11-1">0.11.1</h3>

<ul>
<li>BUGFIX PATCH : Fix the behavior of getting and deleting items on a YAML object where the key have gone through a validator.</li>
<li>PATCH BUGFIX : Allow setting of properties using <strong>setitem</strong> when a key validator was used.</li>
<li>PATCH REFACTOR : Sequence and Mapping validators now inherit from SeqValidator and MapValidator.</li>
<li>PATCH REFACTOR : Added some docstrings and removed unnecessary method.</li>
<li>PATCH REFACTOR : Added docstrings and clarified variable names.</li>
<li>PATCH REFACTOR : Moved YAMLPointer class into its own file.</li>
<li>PATCH REFACTOR : Refactored the processing code.</li>
<li>BUGFIX PATCH : Fix revalidation when using mappings that process keys.</li>
<li>MINOR : FEATURE : Throw exception on inconsistent indents.</li>
<li>PATCH : REFACTOR : Cleaned up stories.</li>
<li>PATCH : REFACTOR : Changes to enable documentation generation.</li>
<li>PATCH : REFACTOR : Upgraded hitchstory and strictyaml in hitch environment.</li>
</ul>

<h3 id="0-10-0">0.10.0</h3>

<ul>
<li>MINOR : FEATURE : Optionally specify minimum_keys and maximum_keys in MapPattern.</li>
</ul>

<h3 id="0-9-0">0.9.0</h3>

<ul>
<li>MINOR : FEATURE : Revalidation of code parsed with any (to make it work with scalar values).</li>
<li>PATCH : REFACTOR : Renamed defer validation -&gt; revalidation.</li>
<li>MINOR : FEATURE : Revalidation of code parsed with Any.</li>
<li>PATCH : REFACTOR : Added more useful YAMLChunk methods.</li>
<li>PATCH : REFACTOR : Fixed type assertions.</li>
<li>PATCH : FEATURE : Added assert for or validators.</li>
<li>PATCH : FEATURE : Clearer error messages for non-matching scalars.</li>
<li>PATCH : REFACTOR : Made linter happy.</li>
<li>MINOR : FEATURE : Made clearer exception messages and prevented invalid validators from being used in compound validators.</li>
<li>PATCH : REFACTOR : Reworked the way YAML objects are created.</li>
<li>PATCH : REFACTOR : Reworked the way mapping, sequence, &lsquo;or&rsquo; and scalar validators work.</li>
<li>PATCH : REFACTOR : Add doctests to the regression suite.</li>
<li>PATCH : REFACTOR : Clean up Map() class so it interacts only via chunk.process().</li>
<li>PATCH : REFACTOR : Cleaned up some stories.</li>
<li>PATCH : REFACTOR : Make linter happy.</li>
<li>PATCH : REFACTOR : Moved more validation functionality into the chunk object.</li>
<li>PATCH : REFACTOR : Clean up validator code.</li>
<li>PATCH : REFACTOR : Move more core code away from validators into YAMLChunk.</li>
</ul>

<h3 id="0-8-0">0.8.0</h3>

<ul>
<li>MINOR : FEATURE : Enum with item validators.</li>
<li>MINOR : FEATURE : Mappings with key validators.</li>
<li>MINOR : FEATURE : Key validation using Map().</li>
<li>PATCH : PERFORMANCE IMPROVEMENTS : Avoided the use of deepcopy() every time a validator is used.</li>
<li>MINOR BUGFIX : Roundtripping failure fixes.</li>
<li>PATCH : REFACTOR : Only use chunk object in scalar validators.</li>
<li>PATCH : REFACTOR : Removed dependency on two variables being fed in to the validate_scalar method.</li>
</ul>

<h3 id="0-7-3">0.7.3</h3>

<ul>
<li>PERFORMANCE : Improved performance of dumping by restricting the number of times deepcopy() is called.</li>
<li>FEATURE : Performance improvements.</li>
<li>FEATURE : Create dumpable YAML documents from simple dicts/lists of python data.</li>
<li>FEATURE : Create documents from scratch.</li>
<li>FEATURE : Create YAML documents directly.</li>
<li>FEATURE : Merging of YAML documents.</li>
<li>BUGFIX : Handle roundtripping changing indexed elements in sequences.</li>
<li>BUGFIX : Fix for scalar value roundtripping.</li>
<li>FEATURE : Set sequences using lists.</li>
<li>FEATURE : Use &lsquo;yes&rsquo; and &lsquo;no&rsquo; as default boolean values.</li>
<li>FEATURE : Set nested mappings that get correctly validated using <strong>setitem</strong> interface on YAML() objects.</li>
<li>BUGFIX : Don&rsquo;t futz with the ordering of keys when setting vars via <strong>setitem</strong>.</li>
</ul>

<h3 id="0-7-2">0.7.2</h3>

<ul>
<li>BUGFIX : Decimal point representer does not work with decimal.Decimal() object, so using float instead.</li>
<li>BUGFIX : In python 2.x, the <strong>ne</strong> magic method is called on != rather than negating the result of the <strong>eq</strong> method. This caused undesired behavior in python 2.x.</li>
<li>FEATURE : Parser errors will have the correct label attached.</li>
<li>FEATURE : .data now returns ordereddicts.</li>
<li>BUG : Boolean &lsquo;y&rsquo; and &lsquo;n&rsquo; values ought to resolve to True and False.</li>
<li>BUG : Map keys were accidentally optional by default.</li>
<li>BUG : Disallowed exceptions were previously not labeled.</li>
<li>BUG : Duplicate key exceptions were previously not labeled.</li>
<li>BUG : Fix for roundtripping multiline strings in python 2.</li>
<li>FEATURE : Label parsed YAML and have the label appear in exceptions.</li>
<li>BUG : Fix the way that data is roundtrip loaded into the yaml object via <strong>setitem</strong>.</li>
<li>BUG : Fixed roundtripping without using load()</li>
</ul>

<h3 id="0-7-0">0.7.0</h3>

<ul>
<li>FEATURE : Modified the way that roundtripping works.</li>
</ul>

<h3 id="0-6-2">0.6.2</h3>

<ul>
<li>FEATURE : Added version number accessible from <strong>init</strong>.py</li>
<li>BUG : Fixed the miscounting of list lines when getting start_line/end_line.</li>
</ul>

<h3 id="0-6-0">0.6.0</h3>

<ul>
<li>BUG : Fixed import issues.</li>
<li>FEATURE : Added email and url validators.</li>
<li>FEATURE : Added Regex validator.</li>
</ul>

<h3 id="0-5-9">0.5.9</h3>

<p>No relevant code changes.</p>

<h3 id="0-5-8">0.5.8</h3>

<ul>
<li>BUG : Fixed boolean error.</li>
</ul>

<h3 id="0-5-7">0.5.7</h3>

<ul>
<li>BUG : Fixed MapPattern errors caused when editing items.</li>
</ul>

<h3 id="0-5-6">0.5.6</h3>

<ul>
<li>FEATURE : Strict type checking when setting values.</li>
</ul>

<h3 id="0-5-5">0.5.5</h3>

<ul>
<li>BUG : Fix roundtripping when using non-ascii characters.</li>
<li>BUG : Fixed unicode roundtripping error.</li>
</ul>

<h3 id="0-5-4">0.5.4</h3>

<ul>
<li>BUG : Fix mishandling of special characters in mappings.</li>
<li>BUG : Handle invalid keys which are non-ascii characters gracefully</li>
<li>BUG : Fix for character encoding issues that occur when non-string scalars see invalid input.</li>
</ul>

<h3 id="0-5-3">0.5.3</h3>

<ul>
<li>BUG : Third fix for character encoding issues (#18: hat tip @jpscaletti)</li>
<li>BUG : Second fix for character encoding issues (#18: hat tip Juan Pablo-Scaletti)</li>
<li>BUG : Fix for #18 (hat tip Juan Pablo-Scaletti)</li>
</ul>

<h3 id="0-5-2">0.5.2</h3>

<ul>
<li>BUG : Fix for #17 (hat tip @kshpytsya)</li>
</ul>

<h3 id="0-5-1">0.5.1</h3>

<ul>
<li>FEATURE : YAML object importable directly from module.</li>
</ul>

<h3 id="0-5-0">0.5.0</h3>

<ul>
<li>BUG : Fixed some broken elements of roundtripping.</li>
<li>BUG : .data representations did not give keys as strings.</li>
<li>BUG : Fixed bool(x) overriding in python 2.</li>
<li>FEATURE : Greater than / less than implemented along with better post-representation assignment to mappings.</li>
<li>FEATURE : Better repr()</li>
<li>BUG : Keys are now represented as YAML() objects with full access to the location of the key in the YAML document.</li>
<li>FEATURE : Added is_[scalar|mapping|sequence] methods.</li>
<li>FEATURE : .values() on YAML object.</li>
<li>FEATURE : Added .value property to YAML object.</li>
<li>FEATURE : Implemented <strong>contains</strong> so the &lsquo;in&rsquo; method can be used.</li>
<li>FEATURE : Added .get(val) and .keys() so mapping YAML objects can be treated like dicts.</li>
<li>FEATURE : Added .items() to YAML object.</li>
<li>FEATURE : Handle srting casting for integers.</li>
<li>FEATURE : Raise TypeError when trying to cast a string to bool.</li>
<li>FEATURE : Raise TypeError when attempting to cast YAML(bool) to string.</li>
<li>FEATURE : Get lines for a specific YAML value, lines before it and lines after.</li>
<li>FEATURE : Print line numbers of YAML elements.</li>
<li>FEATURE : Any validator.</li>
<li>FEATURE : Fixed length sequence validation.</li>
<li>BUG : Fixed roundtripping.</li>
<li>FEATURE : Rountripped YAML with modifications.</li>
<li>BUG : Fixed ruamel.yaml version at a higher level.</li>
<li>FEATURE : Parse YAML into roundtrippable YAML object.</li>
</ul>

<h3 id="0-4-2">0.4.2</h3>

<p>No relevant code changes.</p>

<h3 id="0-4-1">0.4.1</h3>

<ul>
<li>BUG : Fixed comma separated validator - now removes trailing spaces when parsing &ldquo;a, b, c&rdquo; so it does not parse as &ldquo;a&rdquo;, &ldquo; b&rdquo;, &ldquo; c&rdquo;.</li>
</ul>

<h3 id="0-4-0">0.4.0</h3>

<ul>
<li>FEATURE: Comma separated values.</li>
</ul>

<h3 id="0-3-9">0.3.9</h3>

<ul>
<li>FEATURE : Added import for CommentedYAML type.</li>
</ul>

<h3 id="0-3-8">0.3.8</h3>

<ul>
<li>FEATURE : Empty property validation.</li>
</ul>

<h3 id="0-3-7">0.3.7</h3>

<ul>
<li>BUG : Fixed ruamel.yaml importing so that it works with earlier versions too.</li>
</ul>

<h3 id="0-3-6">0.3.6</h3>

<ul>
<li>BUG : Fixed 13.1 ruamel.yaml issue.</li>
</ul>

<h3 id="0-3-5">0.3.5</h3>

<ul>
<li>BUG : Stray print statement.</li>
</ul>

<h3 id="0-3-3">0.3.3</h3>

<ul>
<li>BUG : Disallow flow style was failing with sequences.</li>
</ul>

<h3 id="0-3-2">0.3.2</h3>

<p>No relevant code changes.</p>

<h3 id="0-3-1">0.3.1</h3>

<ul>
<li>BUG : Fixed mis-parsing caused by &lsquo;null&rsquo; and non-strings in dictionary keys.</li>
</ul>

<h3 id="0-3">0.3</h3>

<ul>
<li>FEATURE : Datetime parsing.</li>
<li>BUG : When loading a blank string using &lsquo;Any&rsquo; it returned None by accident.</li>
</ul>

<h3 id="0-2">0.2</h3>

<ul>
<li>FEATURE : YAMLValidationError now inherits from and uses the same mechanism as MarkedYAMLError.</li>
</ul>

<h3 id="0-1-6">0.1.6</h3>

<p>No relevant code changes.</p>

<h3 id="0-1-5">0.1.5</h3>

<ul>
<li>FEATURE : Duplicate keys disallowed.</li>
</ul>

<h3 id="0-1-4">0.1.4</h3>

<ul>
<li>FEATURE : Made the default to parse all scalars to string (Any validator) and added validator that returns CommentedSeq/CommentedMap.</li>
</ul>

<h3 id="0-1-3">0.1.3</h3>

<ul>
<li>FEATURE : Clearer exception messages.</li>
<li>BUG : Fixed bug in sequence validator.</li>
</ul>

<h3 id="0-1-2">0.1.2</h3>

<ul>
<li>BUG : Single value YAML documents now allowed.</li>
<li>BUG : Raise type error if it isn&rsquo;t a string passed through.</li>
</ul>


			<aside class="copyright" role="note">
				
				&copy; 2019 Copyright (C) 2018 &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://hitchdev.com/approach/semantic-versioning/" title="">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://hitchdev.com/hitchstory/using/alpha/aborting/" title="Abort a story with ctrl-C">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              Abort a story with ctrl-C
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = '';
      var repo_id  = '';
    
    </script>

    <script src="https://hitchdev.com/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

